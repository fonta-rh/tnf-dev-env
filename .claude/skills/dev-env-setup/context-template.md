# Context File Template

Use this template when generating `repos/<repo-name>/CLAUDE.md` context files
during Mode B collaborative context generation.

## Principles

1. **Relevance over completeness** — Only include what matters for the user's
   project. A focused 30-line file beats a generic 80-line one.
2. **Target 30–75 lines** — Enough to orient Claude, short enough to stay
   useful. Shorter is fine for simple repos.
3. **Be selective with paths** — List 3–8 key paths, not a directory dump.
   Prioritize entry points, config, and code the user will actually touch.
4. **Use the user's language** — Mirror how they described the project in
   Step 1. If they said "authentication service", don't call it "auth module".
5. **Omit empty sections** — If a section has nothing useful, leave it out
   entirely rather than writing "N/A" or "TODO".

## Template Structure

```markdown
<!-- Context generated by /dev-env setup custom -->

# <repo-name> — <Project Name> Context

**Category**: <category from dev-env.yaml>

**Purpose**: <One sentence: what this repo does>

**Project Relevance**: <2–4 sentences explaining why this repo matters for
the user's specific project. Reference concrete components, flows, or
integrations. This is the most valuable section — make it specific.>

**Key Paths**:
- `path/to/entry-point` - Description
- `path/to/config/` - Description
- `path/to/relevant-package/` - Description
  - `specific-file.go` - Description (nest only when helpful)

**Test Files**:
- `path/to/relevant_test.go`
- `path/to/integration_test.go`

**Commands**:
```bash
make build        # Build the project
make test         # Run unit tests
```
```

## Optional Sections

Include these only when the exploration reveals useful information:

- **Cross-Repo Dependencies** — When this repo interacts with other repos
  in the dev environment (imports, API calls, shared types)
- **Key Configuration** — Important env vars, config files, or feature flags
  relevant to the user's project
- **Architecture Notes** — Brief notes on patterns (e.g., operator pattern,
  plugin system) only if they help navigate the code
- **Native Docs** — Pointer to the repo's own docs (README, HACKING.md, etc.)
  if they exist and are useful

## Anti-Patterns

- Don't list every directory — focus on what the user will actually work with
- Don't repeat the README verbatim — synthesize and contextualize
- Don't include paths you aren't confident about — wrong paths are worse
  than missing ones
- Don't add sections just to fill space — shorter is better than padded
