# Dev Environment Generator

A reusable scaffolding tool for multi-repo OpenShift development environments. Define which repositories you need in a YAML config, and this tool clones, organizes, and provides AI-assisted context for your entire workspace.

Ships with a **preset system** for common development scenarios — start with a preset or build your own custom environment.

## Quick Start

```bash
# 1. Clone this repo as your workspace
git clone <your-fork-url>
cd tnf-dev-env

# 2. Install Claude Code if you haven't already
# https://docs.anthropic.com/en/docs/claude-code/overview

# 3. Run Claude Code and use the setup skill
claude
> /dev-env setup              # Interactive — picks a preset or builds a custom config
```

The `/dev-env setup` skill walks you through everything: preset selection, repo cloning, context file distribution, and CLAUDE.md generation.

## How It Works

1. **`/dev-env setup`** is the entry point — it orchestrates the entire initialization
2. **Presets** (`presets/`) provide ready-made configs with documentation and per-repo context
3. **`dev-env.yaml`** defines which repos to clone (name, URL, branch, category, summary)
4. **`CLAUDE.md`** gives Claude Code cross-repo context for AI-assisted development
5. **Projects** (`projects/`) give structured workspaces for specific tasks

### Setup Modes

- **From preset** (`/dev-env setup`) — select a preset, clone its repos, distribute context files
- **From scratch** (`/dev-env setup custom`) — describe your project, add repos interactively, generate context collaboratively with Claude

## Available Presets

| Preset | Description |
|--------|-------------|
| `tnf` | Two Nodes with Fencing — OpenShift HA with Pacemaker/Corosync |
| `lvm-operator` | LVM Operator (LVMS) — Local storage using LVM/TopoLVM for OpenShift |

Create your own preset by adding a directory under `presets/` with a `preset.yaml`, `dev-env.yaml`, and optional `context/` and `docs/` directories.

## Claude Code Skills

| Skill | Usage | Description |
|-------|-------|-------------|
| `/dev-env setup` | Initialize or refresh dev environment | Set up from preset or custom repos |
| `/project:new` | Create a new project workspace | Structured workspace for a specific task |
| `/project:resume` | Resume an existing project | Reload context and continue work |

## Configuration

The `dev-env.yaml` file (generated by `/dev-env setup`) uses this schema:

```yaml
repos:
  - name: my-repo
    url: https://github.com/org/my-repo.git
    directory: my-repo
    branch: main
    category: development    # docs, development, testing, deployment, troubleshooting
    summary: "Brief description of the repo's role"
```

See `dev-env.yaml.template` for the full commented schema.

## Requirements

- Git
- [Claude Code](https://docs.anthropic.com/en/docs/claude-code/overview)
